:- module(dict, [
	'$'/2
]).

:- use_module(list).

:- op(1000, xfy, [':']).
 %: TODO: Fix parsing and replace this operator with '.'/2
:- op(900, xfy, ['$']).

:- expand('$'(dict(Tag, Args), Key), dict_key_value_(dict(Tag, Args), Key, Eval)).

dict_key_value_(dict(Tag, Args), Key, Eval) :- 
	term_type(Key, atom),
	dict_key_value(dict(Tag, Args), Key, Eval), !.

dict(_, KV)$K:V :- member(K:V, KV).



%: Get all K/V pairs: dict(_, _Args), member(_Arg, _Args), named_arg(_Arg, Name, Value).
dummy.